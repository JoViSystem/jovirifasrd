<section
  id="comprar"
  class="py-16 px-6 max-w-3xl mx-auto bg-white rounded-xl shadow-xl mb-12"
>
  <h2 class="text-3xl font-bold mb-6 text-center text-gray-800">
    üéüÔ∏è Compra tu boleto
  </h2>
  <form
    id="rifaForm"
    class="space-y-6"
    enctype="multipart/form-data"
    action="https://formspree.io/f/meozgpyr"
    method="POST"
  >
    <input
      type="text"
      name="nombre"
      placeholder="Nombre completo"
      required
      class="w-full p-4 border border-gray-300 rounded"
    />
    <input
      type="text"
      name="whatsapp"
      placeholder="N√∫mero de WhatsApp"
      required
      class="w-full p-4 border border-gray-300 rounded"
    />
    <input
      type="email"
      name="email"
      placeholder="Correo electr√≥nico"
      required
      class="w-full p-4 border border-gray-300 rounded"
    />
    <input
      type="number"
      name="cantidad_boletos"
      placeholder="Cantidad de boletos"
      min="1"
      max="10"
      required
      class="w-full p-4 border border-gray-300 rounded"
    />
    <select
      name="metodo_pago"
      required
      class="w-full p-4 border border-gray-300 rounded"
    >
      <option value="" disabled selected>M√©todo de pago</option>
      <option value="Banreservas">Banreservas</option>
      <option value="Banco Popular">Banco Popular</option>
      <option value="PayPal">PayPal</option>
      <option value="Quik">Quik</option>
    </select>

    <label class="block">
      <span class="text-gray-700">Sube tu comprobante o captura de pantalla *</span>
      <input
        type="file"
        name="comprobante"
        required
        accept="image/*,application/pdf"
        class="mt-1 block w-full p-2 border border-gray-300 rounded"
      />
    </label>

    <label class="flex items-center text-sm">
      <input type="checkbox" name="acepta_terminos" required class="mr-2" />
      Acepto los
      <a href="#" class="text-cyan-600 underline ml-1"
        >t√©rminos y condiciones</a
      >
    </label>

    <button
      type="submit"
      class="w-full bg-black hover:bg-gray-900 text-white font-bold py-4 rounded-full text-lg transition"
    >
      Enviar comprobante y participar
    </button>
  </form>
</section>

<script>
  // Redirigir despu√©s del env√≠o exitoso
  const form = document.getElementById("rifaForm");
  form.addEventListener("submit", function (e) {
    e.preventDefault();

    const data = new FormData(form);
    fetch(form.action, {
      method: form.method,
      body: data,
      headers: {
        Accept: "application/json",
      },
    })
      .then((response) => {
        if (response.ok) {
          window.location.href = "gracias.html"; // Aseg√∫rate de tener este archivo
        } else {
          alert("Ocurri√≥ un error al enviar el formulario. Intenta nuevamente.");
        }
      })
      .catch(() => {
        alert("Error de conexi√≥n. Intenta m√°s tarde.");
      });
  });
</script>
